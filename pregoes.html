<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Lista de Pregões</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .pregao-card {
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
      background-color: white;
    }
  </style>
</head>
<body class="bg-light">
<header class="bg-primary text-white py-3 shadow">
  <div class="container text-center">
    <h1 class="mb-0">
      <a href="index.html" class="text-white text-decoration-none">Sistema de Gestão de Licitações</a>
    </h1>
  </div>
</header>


  <div class="container mt-5 pt-3">
    <!-- Busca -->
    <div class="row mb-4">
      <div class="col-md-6">
        <label for="buscarId" class="form-label">Buscar por ID do Pregão</label>
        <input type="text" id="buscarId" class="form-control" placeholder="Ex: 001">
      </div>
      <div class="col-md-6">
        <label for="buscarDescricao" class="form-label">Buscar por Palavra-chave</label>
        <input type="text" id="buscarDescricao" class="form-control" placeholder="Ex: Servidores, Manutenção">
      </div>
      <div class="mt-3">
        <button class="btn btn-success" onclick="filtrarPregoes()">Buscar</button>
      </div>
    </div>

    <!-- Lista de Pregões -->
    <div id="listaPregoes">
      <!-- Cards gerados via JavaScript -->
    </div>

    <a href="index.html" class="btn btn-outline-secondary mt-4">Voltar ao Início</a>
  </div>

  <script>
    const pregoes = [
      { id: "001", descricao: "Compra de Servidores", tipo: "Material", area: "Informática", preco: "R$ 25.000,00" },
      { id: "002", descricao: "Manutenção de Prédio", tipo: "Serviço", area: "Construção Civil", preco: "R$ 12.000,00" },
      { id: "003", descricao: "Sistema de Gestão Escolar", tipo: "Software", area: "Educação", preco: "R$ 40.000,00" }
    ];

    function criarCard(pregao) {
      return `
        <div class="pregao-card">
          <h5>ID: ${pregao.id} - ${pregao.descricao}</h5>
          <p><strong>Tipo:</strong> ${pregao.tipo} | <strong>Área:</strong> ${pregao.area}</p>
          <p><strong>Preço Máximo:</strong> ${pregao.preco}</p>
          <a href="detalhes-pregao.html?id=${pregao.id}" class="btn btn-primary">Ver Detalhes</a>
        </div>
      `;
    }

    function listarTodos() {
      const lista = document.getElementById("listaPregoes");
      lista.innerHTML = pregoes.map(criarCard).join("");
    }

    function filtrarPregoes() {
      const id = document.getElementById("buscarId").value.trim().toLowerCase();
      const desc = document.getElementById("buscarDescricao").value.trim().toLowerCase();

      const filtrados = pregoes.filter(p =>
        (id === "" || p.id.toLowerCase().includes(id)) &&
        (desc === "" || p.descricao.toLowerCase().includes(desc))
      );

      const lista = document.getElementById("listaPregoes");
      lista.innerHTML = filtrados.length > 0
        ? filtrados.map(criarCard).join("")
        : `<div class="alert alert-warning">Nenhum pregão encontrado.</div>`;
    }

    function resetarFiltro() {
      document.getElementById("buscarId").value = "";
      document.getElementById("buscarDescricao").value = "";
      listarTodos();
    }

    window.onload = listarTodos;
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
